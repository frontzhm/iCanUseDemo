<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>tabChange</title>
  <link rel="stylesheet" href="tab.css">
</head>

<body>
  <div class="tab">
    <ul class="tab-hd">
      <li>1</li>
      <li>2</li>
      <li>3</li>
    </ul>
    <ul class="tab-bd">
      <li>1</li>
      <li>2</li>
      <li>3</li>
    </ul>
  </div>
  <div class="tab">
    <ul class="tab-hd">
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
    </ul>
    <ul class="tab-bd">
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
    </ul>
  </div>
  <script src="../utils/utils.js"></script>
  <script src="tab.js"></script>
  <script>
  // 新建对象就是运行;
  var tab0 = new TabChange(utils.getElementsByClassName("tab")[0],0)
  var tab1 = new TabChange(utils.getElementsByClassName("tab")[1],3)
  </script>
  <!--
  <script>
  /*
              // 单个的处理
              var tab = utils.getElementsByClass("tab")[0];
              var head = utils.firstChild(tab),
                  body = utils.next(head),
                  hdItems = utils.children(head),
                  bdItems = utils.children(body),
                  len = hdItems.length;
              // 鼠标点击每一个hdItem 自己加选中样式 兄弟删选中样式
              // bdItems  相同索引加选中样式 兄弟删选中样式
              for (var i = 0; i < len; i++) {
                hdItems[i].onclick = function() {
                  // 点击事件里面的单独放出来 这样方便复用
                  detailFn.call(this);
                }
              }

              function detailFn() {
                // 注意这里的this指点击的元素 所以使用的时候要对应指向
                var index = utils.index(this);
                utils.addClass(this, "cur");
                for (var i = 0; i < len; i++) {
                  if (i === index) {
                    utils.addClass(bdItems[i], "cur");
                  } else {
                    utils.removeClass(hdItems[i], "cur");
                    utils.removeClass(bdItems[i], "cur");
                  }
                }
              }
              */
  </script>
  <script>
  /*  // 多个的处理
          // 封装成函数 相当于这个小模块 以后里面可以加东西
          ~ function() {
            function detailFn(hdItems, bdItems) {
              // 注意这里的this指点击的元素 所以使用的时候要对应指向
              var index = utils.index(this),
                len = hdItems.length;
              utils.addClass(this, "cur");

              for (var i = 0; i < len; i++) {
                if (i === index) {
                  utils.addClass(bdItems[i], "cur");
                } else {
                  utils.removeClass(hdItems[i], "cur");
                  utils.removeClass(bdItems[i], "cur");
                }
              }
            }

            function tabChange(tabSelector) {

              var head = utils.firstChild(tabSelector),
                body = utils.next(head),
                hdItems = utils.children(head),
                bdItems = utils.children(body),
                len = hdItems.length;
              // 鼠标点击每一个hdItem 自己加选中样式 兄弟删选中样式
              // bdItems  相同索引加选中样式 兄弟删选中样式
              for (var i = 0; i < len; i++) {
                hdItems[i].onclick = function() {
                  // 点击事件里面的单独放出来 这样方便复用
                  detailFn.call(this, hdItems, bdItems);
                }
              }
            }
            window.tabChange = tabChange;
          }()

          // 运用
          var tabs = utils.getElementsByClass("tab");
          for (var i = 0; i < tabs.length; i++) {
            tabChange(tabs[i]);
          }*/
  </script>
  <script>
  // 事件委托 :点击事件写在head上 然后根据点击的对象是li触发事件
  /* ~ function() {
     function detailFn(hdItems, bdItems) {
       // 注意这里的this指点击的元素 所以使用的时候要对应指向
       var index = utils.index(this),
         len = hdItems.length;
       utils.addClass(this, "cur");

       for (var i = 0; i < len; i++) {
         if (i === index) {
           utils.addClass(bdItems[i], "cur");
         } else {
           utils.removeClass(hdItems[i], "cur");
           utils.removeClass(bdItems[i], "cur");
         }
       }
     }

     function tabChange(tabSelector) {

       var head = utils.firstChild(tabSelector),
         body = utils.next(head),
         hdItems = utils.children(head),
         bdItems = utils.children(body),
         len = hdItems.length;
       // 区别在这里 去掉了循环hdItems
       head.onclick = function(e) {
         e = e || window.event;
         e.target = e.target || e.srcElement;
         // 点击事件里面的单独放出来 这样方便复用
         if (e.target.tagName.toLowerCase() === "li") {
           detailFn.call(e.target, hdItems, bdItems);
         }
       }
     }
     window.tabChange = tabChange;
   }()
   // 运用
   var tabs = utils.getElementsByClass("tab");
   for (var i = 0; i < tabs.length; i++) {
     tabChange(tabs[i]);
   }*/
  </script>
-->
</body>
</html>
